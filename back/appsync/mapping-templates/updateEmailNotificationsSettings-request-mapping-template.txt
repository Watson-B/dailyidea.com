{
    "version" : "2017-02-28",
    "operation" : "UpdateItem",
    "key": {
        "userId" : { "S" : "${context.identity.username}" },
    },
    "update" : {
        "expression" : "SET #unsubscribedAt = :unsubscribedAt, #ideaReminders = :ideaReminders, #hotStreaks = :hotStreaks, #dailyDigests = :dailyDigests, #weeklyDigests = :weeklyDigests",
        "expressionNames" : {
           "#unsubscribedAt" : "unsubscribedAt",
           "#ideaReminders" : "ideaReminders",
           "#hotStreaks" : "hotStreaks",
           "#dailyDigests" : "dailyDigests",
           "#weeklyDigests" : "weeklyDigests"
        },
        "expressionValues" : {
            ":unsubscribedAt" : $util.dynamodb.toDynamoDBJson($context.arguments.state.unsubscribedAt),
            ":ideaReminders" : { "BOOL" : $context.arguments.state.ideaReminders},
            ":hotStreaks" : { "BOOL" : $context.arguments.state.hotStreaks},
            ":dailyDigests" : { "BOOL" : $context.arguments.state.dailyDigests},
            ":weeklyDigests" : { "BOOL" : $context.arguments.state.weeklyDigests}
        }
    }
}
